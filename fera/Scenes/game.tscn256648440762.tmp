[gd_scene load_steps=22 format=4 uid="uid://gxrued2pk22y"]

[ext_resource type="Texture2D" uid="uid://xp8ptqibry6u" path="res://Art/PlayerIdlePLACEHOLDER-Sheet.png" id="1_qxrlw"]
[ext_resource type="Script" uid="uid://b42030qkgrvfc" path="res://Scripts/player.gd" id="1_wrm1d"]
[ext_resource type="Texture2D" uid="uid://gruyy67og738" path="res://Art/PlayerPLACEHOLDER-Sheet.png" id="2_wrm1d"]
[ext_resource type="Script" uid="uid://db65fkmom8cfd" path="res://Scripts/PlayerInteract.gd" id="4_1l0tm"]
[ext_resource type="Texture2D" uid="uid://p5d5wja4scjb" path="res://Art/TilesetPLACEHOLDER.png" id="4_3dryh"]
[ext_resource type="Script" uid="uid://dav47sejrhewv" path="res://Scripts/ui.gd" id="5_wowpa"]
[ext_resource type="StyleBox" uid="uid://c6o275xf1u4aq" path="res://Art/UI stuff/dialogue_style_box_flat.tres" id="6_i6g32"]
[ext_resource type="Script" uid="uid://dodqrl6c5cfhw" path="res://Scripts/dialogue.gd" id="8_v158k"]

[sub_resource type="LabelSettings" id="LabelSettings_1l0tm"]
font_size = 14

[sub_resource type="AtlasTexture" id="AtlasTexture_3dryh"]
atlas = ExtResource("1_qxrlw")
region = Rect2(32, 0, 16, 16)

[sub_resource type="AtlasTexture" id="AtlasTexture_wowpa"]
atlas = ExtResource("1_qxrlw")
region = Rect2(16, 0, 16, 16)

[sub_resource type="AtlasTexture" id="AtlasTexture_i6g32"]
atlas = ExtResource("1_qxrlw")
region = Rect2(0, 0, 16, 16)

[sub_resource type="AtlasTexture" id="AtlasTexture_h4fw4"]
atlas = ExtResource("2_wrm1d")
region = Rect2(32, 0, 16, 16)

[sub_resource type="AtlasTexture" id="AtlasTexture_1l0tm"]
atlas = ExtResource("2_wrm1d")
region = Rect2(16, 0, 16, 16)

[sub_resource type="AtlasTexture" id="AtlasTexture_v158k"]
atlas = ExtResource("2_wrm1d")
region = Rect2(0, 0, 16, 16)

[sub_resource type="SpriteFrames" id="SpriteFrames_h4fw4"]
animations = [{
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_3dryh")
}],
"loop": false,
"name": &"idleDOWN",
"speed": 5.0
}, {
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_wowpa")
}],
"loop": false,
"name": &"idleLEFT",
"speed": 5.0
}, {
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_wowpa")
}],
"loop": false,
"name": &"idleRIGHT",
"speed": 5.0
}, {
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_i6g32")
}],
"loop": false,
"name": &"idleUP",
"speed": 5.0
}, {
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_h4fw4")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_3dryh")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_h4fw4")
}],
"loop": false,
"name": &"walkDOWN",
"speed": 5.0
}, {
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_1l0tm")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_wowpa")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_1l0tm")
}],
"loop": false,
"name": &"walkLEFT",
"speed": 5.0
}, {
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_1l0tm")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_wowpa")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_1l0tm")
}],
"loop": false,
"name": &"walkRIGHT",
"speed": 5.0
}, {
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_v158k")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_i6g32")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_v158k")
}],
"loop": false,
"name": &"walkUP",
"speed": 5.0
}]

[sub_resource type="RectangleShape2D" id="RectangleShape2D_qxrlw"]
size = Vector2(14, 14)

[sub_resource type="SeparationRayShape2D" id="SeparationRayShape2D_i6g32"]
length = 16.0

[sub_resource type="TileSetAtlasSource" id="TileSetAtlasSource_wowpa"]
texture = ExtResource("4_3dryh")
0:0/0 = 0
0:0/0/physics_layer_0/polygon_0/points = PackedVector2Array(-8, -8, 8, -8, 8, 8, -8, 8)
1:0/0 = 0
1:0/0/physics_layer_0/polygon_0/points = PackedVector2Array(-8, -8, 8, -8, 8, 8, -8, 8)
2:0/0 = 0

[sub_resource type="TileSet" id="TileSet_i6g32"]
physics_layer_0/collision_layer = 1
sources/0 = SubResource("TileSetAtlasSource_wowpa")

[sub_resource type="RectangleShape2D" id="RectangleShape2D_i6g32"]
size = Vector2(16, 16)

[node name="Game" type="Node2D"]

[node name="Player" type="Area2D" parent="."]
z_index = 1
collision_layer = 5
collision_mask = 7
priority = 1
script = ExtResource("1_wrm1d")

[node name="Cam" type="Camera2D" parent="Player"]
zoom = Vector2(3.5, 3.5)
position_smoothing_enabled = true

[node name="UI" type="Control" parent="Player/Cam"]
layout_mode = 3
anchors_preset = 8
anchor_left = 0.5
anchor_top = 0.5
anchor_right = 0.5
anchor_bottom = 0.5
offset_left = -184.0
offset_top = -104.0
offset_right = 184.0
offset_bottom = 104.0
grow_horizontal = 2
grow_vertical = 2
script = ExtResource("5_wowpa")

[node name="DialogueBox" type="PanelContainer" parent="Player/Cam/UI"]
unique_name_in_owner = true
layout_mode = 1
anchors_preset = 12
anchor_top = 1.0
anchor_right = 1.0
anchor_bottom = 1.0
offset_top = -72.0
grow_horizontal = 2
grow_vertical = 0
scale = Vector2(0.9, 0.9)
pivot_offset = Vector2(184, 0)
theme_override_styles/panel = ExtResource("6_i6g32")

[node name="saying" type="Label" parent="Player/Cam/UI/DialogueBox"]
unique_name_in_owner = true
z_index = 2
custom_minimum_size = Vector2(184, 36)
layout_mode = 2
size_flags_vertical = 1
theme_override_colors/font_color = Color(1, 1, 1, 1)
theme_override_font_sizes/font_size = 14
text = "NAME: Hi, this is dialogue text! Stuff is being said, let's put some stuff here. Okay and what if what's being said goes too long like this, it just cuts off like this"
label_settings = SubResource("LabelSettings_1l0tm")
autowrap_mode = 2
clip_text = true
visible_ratio = -0.00598802

[node name="art" type="AnimatedSprite2D" parent="Player"]
sprite_frames = SubResource("SpriteFrames_h4fw4")
animation = &"idleDOWN"
autoplay = "idleDOWN"

[node name="hitbox" type="CollisionShape2D" parent="Player"]
shape = SubResource("RectangleShape2D_qxrlw")
debug_color = Color(1, 0.95, 0, 0.419608)

[node name="collideCheck" type="RayCast2D" parent="Player"]
visible = false
target_position = Vector2(0, 16)

[node name="interactStuff" type="Area2D" parent="Player"]
collision_layer = 6
collision_mask = 2
script = ExtResource("4_1l0tm")

[node name="Sight" type="CollisionShape2D" parent="Player/interactStuff"]
shape = SubResource("SeparationRayShape2D_i6g32")

[node name="AnimationPlayer" type="AnimationPlayer" parent="Player"]

[node name="TileMapLayer" type="TileMapLayer" parent="."]
tile_map_data = PackedByteArray("AAD6//v/AAACAAAAAAD6//z/AAACAAAAAAD6//3/AAACAAAAAAD6//7/AAACAAAAAAD6////AAACAAAAAAD6/wAAAAACAAAAAAD6/wEAAAACAAAAAAD6/wIAAAACAAAAAAD6/wMAAAACAAAAAAD6/wQAAAACAAAAAAD6/wUAAAACAAAAAAD7//v/AAACAAAAAAD7//z/AAACAAAAAAD7//3/AAACAAAAAAD7//7/AAACAAAAAAD7////AAACAAAAAAD7/wAAAAACAAAAAAD7/wEAAAACAAAAAAD7/wIAAAACAAAAAAD7/wMAAAACAAAAAAD7/wQAAAACAAAAAAD7/wUAAAACAAAAAAD8//v/AAACAAAAAAD8//z/AAACAAAAAAD8//3/AAACAAAAAAD8//7/AAACAAAAAAD8////AAACAAAAAAD8/wAAAAACAAAAAAD8/wEAAAACAAAAAAD8/wIAAAACAAAAAAD8/wMAAAACAAAAAAD8/wQAAAACAAAAAAD8/wUAAAACAAAAAAD9//v/AAACAAAAAAD9//z/AAACAAAAAAD9//3/AAACAAAAAAD9//7/AAACAAAAAAD9////AAACAAAAAAD9/wAAAAACAAAAAAD9/wEAAAACAAAAAAD9/wIAAAACAAAAAAD9/wMAAAAAAAAAAAD9/wQAAAACAAAAAAD9/wUAAAACAAAAAAD+//v/AAACAAAAAAD+//z/AAACAAAAAAD+//3/AAACAAAAAAD+//7/AAACAAAAAAD+////AAACAAAAAAD+/wAAAAACAAAAAAD+/wEAAAACAAAAAAD+/wIAAAACAAAAAAD+/wMAAAACAAAAAAD+/wQAAAACAAAAAAD+/wUAAAACAAAAAAD///v/AAACAAAAAAD///z/AAACAAAAAAD///3/AAACAAAAAAD///7/AAACAAAAAAD/////AAACAAAAAAD//wAAAAACAAAAAAD//wEAAAACAAAAAAD//wIAAAACAAAAAAD//wMAAAACAAAAAAD//wQAAAACAAAAAAD//wUAAAACAAAAAAAAAPv/AAACAAAAAAAAAPz/AAACAAAAAAAAAP7/AAACAAAAAAAAAP//AAACAAAAAAAAAAAAAAACAAAAAAAAAAEAAAACAAAAAAAAAAIAAAACAAAAAAAAAAMAAAACAAAAAAAAAAQAAAACAAAAAAAAAAUAAAACAAAAAAABAPv/AAACAAAAAAABAPz/AAACAAAAAAABAP7/AAACAAAAAAABAP//AAACAAAAAAABAAAAAAACAAAAAAABAAEAAAACAAAAAAABAAIAAAACAAAAAAABAAMAAAACAAAAAAABAAQAAAACAAAAAAABAAUAAAACAAAAAAACAPv/AAACAAAAAAACAPz/AAACAAAAAAACAP3/AAACAAAAAAACAP7/AAACAAAAAAACAP//AAACAAAAAAACAAAAAAACAAAAAAACAAEAAAACAAAAAAACAAIAAAACAAAAAAACAAMAAAACAAAAAAACAAQAAAACAAAAAAACAAUAAAACAAAAAAADAPv/AAACAAAAAAADAPz/AAACAAAAAAADAP3/AAACAAAAAAADAP7/AAACAAAAAAADAP//AAACAAAAAAADAAAAAAACAAAAAAADAAEAAAACAAAAAAADAAIAAAACAAAAAAADAAMAAAACAAAAAAADAAQAAAACAAAAAAADAAUAAAACAAAAAAAEAPv/AAABAAAAAAAEAPz/AAABAAAAAAAEAP3/AAABAAAAAAAEAP7/AAABAAAAAAAEAP//AAABAAAAAAAEAAAAAAACAAAAAAAEAAEAAAACAAAAAAAEAAIAAAACAAAAAAAEAAMAAAACAAAAAAAEAAQAAAACAAAAAAAEAAUAAAACAAAAAAAFAPv/AAABAAAAAAAFAPz/AAABAAAAAAAFAP3/AAABAAAAAAAFAP7/AAABAAAAAAAFAP//AAABAAAAAAAFAAAAAAACAAAAAAAFAAEAAAACAAAAAAAFAAIAAAACAAAAAAAFAAMAAAACAAAAAAAFAAQAAAACAAAAAAAFAAUAAAACAAAAAAD6//r/AAACAAAAAAD7//r/AAACAAAAAAD8//r/AAACAAAAAAD9//r/AAACAAAAAAD+//r/AAACAAAAAAD///r/AAACAAAAAAAAAPr/AAACAAAAAAABAPr/AAACAAAAAAACAPr/AAACAAAAAAADAPr/AAACAAAAAAAEAPr/AAACAAAAAAAFAPr/AAACAAAAAAAGAPv/AAABAAAAAAAGAPz/AAABAAAAAAAGAP3/AAABAAAAAAAGAP7/AAABAAAAAAAGAP//AAABAAAAAAAHAPv/AAABAAAAAAAHAPz/AAABAAAAAAAHAP3/AAABAAAAAAAHAP7/AAABAAAAAAAHAP//AAABAAAAAAAIAPv/AAABAAAAAAAIAPz/AAABAAAAAAAIAP3/AAABAAAAAAAIAP7/AAABAAAAAAAIAP//AAABAAAAAAAAAP3/AAACAAAAAAABAP3/AAACAAAAAAA=")
tile_set = SubResource("TileSet_i6g32")

[node name="InteractableObject" type="Area2D" parent="."]
position = Vector2(-40, 56)
collision_layer = 2
collision_mask = 6
script = ExtResource("8_v158k")
Default = Array[String](["It's an object, related to Fera.", "Who would've thought?", "Or maybe you expected this?"])

[node name="sight" type="CollisionShape2D" parent="InteractableObject"]
shape = SubResource("RectangleShape2D_i6g32")
debug_color = Color(1, 1, 1, 0.42)

[node name="Label" type="Label" parent="InteractableObject"]
offset_right = 40.0
offset_bottom = 23.0
text = "default text"

[connection signal="animation_finished" from="Player/art" to="Player" method="_on_art_animation_finished"]
[connection signal="area_entered" from="Player/interactStuff" to="Player/interactStuff" method="InteractFound"]
[connection signal="area_exited" from="Player/interactStuff" to="Player/interactStuff" method="InteractLost"]
[connection signal="body_entered" from="Player/interactStuff" to="Player/interactStuff" method="InteractFound"]
[connection signal="body_exited" from="Player/interactStuff" to="Player/interactStuff" method="InteractLost"]
